<!--
Auto-generated dead-items report
Date: 2025-11-13
Generated by repository scan (madge + name-based grep + svelte-check)
-->

# Dead / Orphaned items (candidate list)

This file lists modules, Svelte components, and exported types that were detected as likely-unused (orphaned) by static analysis tools run in the workspace.

Important: these are *candidates* for removal. They were detected with name-based grep and module-graph analysis (madge). False positives are possible (dynamic imports, string-based usage, usage outside scanned folders). Please review each item before deleting. Do not rely solely on this list to delete code.

## How this report was created

- Ran `svelte-check` (TypeScript & Svelte language checks) to surface diagnostics.
- Ran an improved filename+barrel+markup search (ad-hoc scripts) to locate component usage.
- Ran `madge --orphans` over `src/lib` to find modules not imported by other modules.
- Scanned exported types by name across `src` to find no-name matches.

Tools and commands used (run locally):

```bash
# Type + Svelte diagnostics
npm run check

# Lint + formatting
npm run lint

# Module orphan scan (uses npx madge for one-off runs)
npx madge --orphans src/lib --extensions ts,js,svelte
```

## Summary (high level)

- madge processed 158 files and reported a set of orphan modules under `src/lib`.
- Name-based grep reported several exported types that had no matches across the repo.
- svelte-check reported a small number of TypeScript/Svelte errors which are listed below; fix these before performing large automated removals.

---

## svelte-check diagnostics (selected)

These errors were produced by `npm run check` during the scan and may indicate type problems that should be resolved before mass cleanup.

- `src/lib/commands/types.ts` — Type alias `CommandPayload` circularly references itself.
- `src/lib/utils/d3/simulation.ts` — Property `question_state` does not exist on type `LogicNode` (and `manual_state_override`).
- `src/lib/components/panels/LeftPanel.svelte` — parameter type mismatch for connection filter handler.
- `src/lib/components/panels/right-panel/CreateNodeForm.svelte` — object literal includes unknown property `primary_label` for `Props`.
- `src/lib/components/panels/right-panel/CreateQuestionForm.svelte` — similar `primary_label` unknown property.
- `src/lib/components/panels/right-panel/CreateConnectionForm.svelte` — possible `string | undefined` passed where `string` expected (two occurrences).

Reference: run `npm run check` to reproduce full diagnostics locally.

---

## Madge-orphan modules (candidates)

These files were reported as orphans by `madge --orphans src/lib --extensions ts,js,svelte`.
Review each before removal.

- `commands/executor.spec.ts`
- `commands/graph/create-node.svelte.spec.ts`
- `commands/index.ts`
- `commands/validator.spec.ts`
- `components/forms/DynamicForm.svelte`
- `components/forms/DynamicFormField.svelte`
- `components/graph/ArrowMarkers.svelte`
- `components/graph/GraphCanvas.svelte`
- `components/graph/canvas/index.ts`
- `components/panels/FloatingToolbar.svelte`
- `components/panels/FloatingToolbar/index.ts`
- `components/panels/LeftPanel.svelte`
- `components/panels/RightPanel.svelte`
- `components/panels/SearchPanel/index.ts`
- `components/panels/right-panel/CreateConnectionForm.svelte`
- `components/panels/right-panel/CreateNodeForm.svelte`
- `components/panels/right-panel/CreateQuestionForm.svelte`
- `components/panels/right-panel/EditConnectionForm.svelte`
- `components/panels/right-panel/EditNodeForm/AddConnectionForm.svelte`
- `components/panels/right-panel/EditNodeForm/BasicNodeFields.svelte`
- `components/panels/right-panel/EditNodeForm/ConnectionListItem.svelte`
- `components/panels/right-panel/EditNodeForm/ConnectionSection.svelte`
- `components/panels/right-panel/EditNodeForm/EditNodeFormHeader.svelte`
- `components/panels/right-panel/EditNodeForm/FormalizedStatement.svelte`
- `components/panels/right-panel/EditNodeForm/QuickActionsBar.svelte`
- `components/panels/right-panel/EditNodeForm/StatementStateControl.svelte`
- `components/panels/right-panel/EditNodeForm/index.ts`
- `components/panels/right-panel/EditQuestionForm/AnswerSection.svelte`
- `components/panels/right-panel/EditQuestionForm/BasicQuestionFields.svelte`
- `components/panels/right-panel/EditQuestionForm/LinkedStatementsSection.svelte`
- `components/panels/right-panel/EditQuestionForm/QuestionHeader.svelte`
- `components/panels/right-panel/EditQuestionForm/index.ts`
- `components/panels/right-panel/shared/index.ts`
- `components/ui/Button.svelte`
- `components/ui/ConfirmationModal.svelte`
- `components/ui/CreateModal.svelte`
- `components/ui/ExportModal.svelte`
- `components/ui/FormField.svelte`
- `components/ui/HelpModal.svelte`
- `components/ui/ImportModal.svelte`
- `components/ui/Input.svelte`
- `components/ui/LoadingOverlay.svelte`
- `components/ui/MultiSelect.svelte`
- `components/ui/NotificationContainer.svelte`
- `components/ui/Select.svelte`
- `components/ui/Textarea.svelte`
- `composables/use-node-form.svelte.ts`
- `forms/examples.ts`
- `forms/index.ts`
- `forms/validation.spec.ts`
- `index.ts`
- `interactions/definitions/index.spec.ts`
- `interactions/gesture-manager.ts`
- `interactions/recognizers/index.ts`
- `interactions/recognizers/tap.spec.ts`
- `interactions/router.spec.ts`
- `stores/animation.svelte.ts`
- `stores/gesture.svelte.spec.ts`
- `stores/graph.svelte.ts`
- `stores/history.svelte.spec.ts`
- `stores/layout.svelte.ts`
- `stores/loading.svelte.ts`
- `stores/notification.svelte.spec.ts`
- `stores/search.svelte.ts`
- `stores/selection.svelte.ts`
- `stores/toast.svelte.ts`
- `stores/ui.svelte.ts`
- `styles/index.ts`
- `types/animations.ts`
- `types/d3-extensions.ts`
- `types/ui.ts`
- `utils/animations/index.ts`
- `utils/answer-management.ts`
- `utils/d3-helpers.ts`
- `utils/d3/interactions.ts`
- `utils/d3/recenter.spec.ts`
- `utils/d3/simulation.ts`
- `utils/edit-node-actions.ts`
- `utils/export/index.ts`
- `utils/export/json.spec.ts`
- `utils/graph-algorithms.ts`
- `utils/import.spec.ts`
- `utils/layout-algorithms.ts`
- `utils/node-connections.ts`
- `utils/search.ts`
- `utils/validation.spec.ts`

> Note: madge reports unit tests and spec files as orphans because they are not imported by application modules — that is expected and they are not candidates for deletion.

---

## Exported types that appear unused (name-based grep)

These types had no name matches when scanning `src` for their exported identifiers. Verify manually before deleting.

- `src/lib/types/animations.ts`
  - `AnimationOptions`
  - `AnimationTarget`

- `src/lib/types/graph.ts`
  - `GraphMetadata`

- `src/lib/types/d3-extensions.ts`
  - `D3SimulationNode`
  - `D3DragNode`

- `src/lib/types/ui.ts`
  - `ExportFormat`
  - `KeyboardShortcutCategory`
  - `KeyboardShortcutDefinition`
  - `ToastType`

Caveat: some types may be referenced only in comments or dynamically constructed objects; ensure you search usages in your editor/IDE (TypeScript language service) for higher-confidence results.

---

## Exported functions / consts

No large, unambiguous list of unused exported functions was produced by the name-based scan. Most exported functions from `src/lib/utils` and `src/lib/services` show at least one reference in the codebase. If you want a deeper check for unused exports, consider running `ts-prune` or `eslint` rules that detect unused exports.

---

## Recommendations & safe workflow

1. Fix `svelte-check` diagnostics first. These are type issues that may affect detection or future compilation.
2. For each candidate type file above, open the file in the editor and confirm the type is unused. If confirmed, either:
   - Mark it `@deprecated` (JSDoc) for one release, then remove in a later PR, or
   - Remove it in a small PR that runs `npm run check` and `npm run test`.
3. For component orphans reported by madge:
   - Confirm they are not referenced by routes, tests, or dynamic imports.
   - Prefer conservative removals (types first, small isolated components next).
4. Create a PR with each logical batch of removals; run CI (svelte-check, lint, tests) and keep PRs small so rollbacks are simple.

Useful commands

```bash
# reproduce checks
npm run check
npm run lint

# run madge locally (one-off)
npx madge --orphans src/lib --extensions ts,js,svelte

# prettify docs if Prettier complains
npm run format
```

---

If you'd like, I can prepare a branch and a PR that either marks these items deprecated or removes a conservative set (types only). Tell me which approach you prefer and I'll prepare the branch, run the checks, and open the PR.

Generated by repository scan on 2025-11-13.
